import{_ as a}from"./q-DoNi8vyY.js";import{d as O,q as o,H as M,D as j,p as i,t as k,o as r,e,l as g,m as n,u as d,_hW as P}from"./q-DyOK6l40.js";import{L as I,k as R,e as V,m as E,q as L,p as z,r as Q,s as U,t as B}from"./q-CEjYBeSU.js";import{M as $}from"./q-CaSDNkvt.js";import{c as A,g as q,a as p}from"./q-DJpBK2h7.js";const F=O(o(()=>a(()=>import("./q-G4-YMPTR.js"),[]),"s_Avv7vWh4YCU")),H=O(o(()=>a(()=>import("./q-B_tEW1JD.js").then(l=>l.c),[]),"s_yQRVJ3IK9Lk")),K=O(o(()=>a(()=>import("./q-DDXwU5J_.js").then(l=>l.l),[]),"s_JYCY8C6a1bs")),D=$(M("s_gEmonslI3Fs")),G=O(o(()=>a(()=>Promise.resolve().then(()=>N),void 0),"s_BAhBeD2pqSE")),fe=Object.freeze(Object.defineProperty({__proto__:null,default:G,useRecordEventAction:D},Symbol.toStringTag,{value:"Module"})),J=()=>{j();const l=D(),t=i("dashboard"),u=i(!1),_=i(!1),b=i(null),v=i(!0),x=i(null),m=i([]),c=i([]),S=i(null),w=i(!0),y=i(null);k(o(()=>a(()=>Promise.resolve().then(()=>te),void 0),"s_p68o2nleN0k",[v,b,_,o(()=>a(()=>Promise.resolve().then(()=>_e),void 0),"s_nuBtQKCpceA",[x,m,b,y,_,w,S,c])]));const h=o(()=>a(()=>Promise.resolve().then(()=>ae),void 0),"s_BRt903p3tIw",[_,l]),C=o(()=>a(()=>Promise.resolve().then(()=>Y),void 0),"s_nTM0T0HzeDg",[b,_]);return!_.value&&!v.value?r(K,null,3,"ua_0"):v.value||w.value?e("div",null,{class:"min-h-screen flex items-center justify-center"},e("div",null,{class:"text-center"},[e("div",null,{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},null,3,null),e("p",null,{class:"mt-4 text-gray-600"},"Loading QuillSpace...",3,null)],3,null),3,"ua_1"):y.value?e("div",null,{class:"min-h-screen  flex items-center justify-center"},e("div",null,{class:"text-center"},e("div",null,{class:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md"},[e("h3",null,{class:"text-lg font-medium text-red-800 mb-2"},"Error Loading Dashboard",3,null),e("p",null,{class:"text-red-700"},g(s=>s.value,[y]),3,null),e("button",null,{class:"mt-4 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",onClick$:o(()=>a(()=>import("./q-h-LakCw1.js"),[]),"s_R0BBwMmodDM")},"Retry",3,null)],3,null),3,null),3,"ua_2"):e("div",null,{class:"min-h-screen bg-gray-50"},[e("div",{class:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out ${u.value?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:static lg:inset-0`},null,[e("div",null,{class:"flex items-center justify-center h-16 bg-blue-600"},e("div",null,{class:"flex items-center gap-2"},[r(I,{class:"w-8 h-8 text-white",[n]:{class:n}},3,"ua_3"),e("span",null,{class:"text-xl font-bold text-white"},"QuillSpace",3,null)],1,null),1,null),e("nav",null,{class:"mt-8"},[e("button",{class:`w-full flex items-center gap-3 px-6 py-3 text-left transition-colors ${t.value==="dashboard"?"bg-blue-50 text-blue-600 border-r-2 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`},{onClick$:o(()=>a(()=>Promise.resolve().then(()=>be),void 0),"s_QLGwmXHJ20o",[t,h])},[r(R,{class:"w-5 h-5",[n]:{class:n}},3,"ua_4"),"Dashboard"],1,null),e("button",{class:`w-full flex items-center gap-3 px-6 py-3 text-left transition-colors ${t.value==="content"?"bg-blue-50 text-blue-600 border-r-2 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`},{onClick$:o(()=>a(()=>Promise.resolve().then(()=>re),void 0),"s_8h9SQKoF86U",[t,h])},[r(V,{class:"w-5 h-5",[n]:{class:n}},3,"ua_5"),"Content"],1,null),e("button",{class:`w-full flex items-center gap-3 px-6 py-3 text-left transition-colors ${t.value==="users"?"bg-blue-50 text-blue-600 border-r-2 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`},{onClick$:o(()=>a(()=>Promise.resolve().then(()=>ce),void 0),"s_gCq79vfRc88",[t,h])},[r(E,{class:"w-5 h-5",[n]:{class:n}},3,"ua_6"),"Users"],1,null),e("button",{class:`w-full flex items-center gap-3 px-6 py-3 text-left transition-colors ${t.value==="settings"?"bg-blue-50 text-blue-600 border-r-2 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`},{onClick$:o(()=>a(()=>Promise.resolve().then(()=>Z),void 0),"s_PVEP0yczVUA",[t,h])},[r(L,{class:"w-5 h-5",[n]:{class:n}},3,"ua_7"),"Settings"],1,null)],1,null)],1,null),e("div",null,{class:"lg:pl-64"},[e("header",null,{class:"bg-white shadow-sm border-b border-gray-200"},e("div",null,{class:"flex items-center justify-between px-6 py-4"},[e("div",null,{class:"flex items-center gap-4"},[e("button",null,{class:"lg:hidden p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100",onClick$:o(()=>a(()=>Promise.resolve().then(()=>ne),void 0),"s_GyO0ruln00k",[u])},r(z,{class:"w-6 h-6",[n]:{class:n}},3,"ua_8"),1,null),e("h1",null,{class:"text-2xl font-semibold text-gray-900"},[g(s=>s.value==="dashboard"&&"Dashboard",[t]),g(s=>s.value==="content"&&"Content Management",[t]),g(s=>s.value==="users"&&"User Management",[t]),g(s=>s.value==="settings"&&"Settings",[t])],3,null)],1,null),e("div",null,{class:"flex items-center gap-4"},[e("div",null,{class:"relative"},[r(Q,{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",[n]:{class:n}},3,"ua_9"),e("input",null,{type:"text",placeholder:"Search...",class:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,3,null)],1,null),e("button",null,{class:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg"},r(U,{class:"w-5 h-5",[n]:{class:n}},3,"ua_10"),1,null),e("div",null,{class:"flex items-center gap-3"},[e("div",null,{class:"text-right"},[e("p",null,{class:"text-sm font-medium text-gray-900"},g(s=>{var f;return(f=s.value)==null?void 0:f.name},[b]),3,null),e("p",null,{class:"text-xs text-gray-500"},g(s=>{var f;return(f=s.value)==null?void 0:f.role},[b]),3,null)],3,null),e("button",null,{class:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",onClick$:C},r(B,{class:"w-5 h-5",[n]:{class:n}},3,"ua_11"),1,null)],1,null)],1,null)],1,null),1,null),e("main",null,{class:"p-6"},[t.value==="dashboard"&&x.value&&r(F,{get data(){return x.value},[n]:{data:g(s=>s.value,[x])}},3,"ua_12"),t.value==="content"&&r(H,{get content(){return m.value},[n]:{content:g(s=>s.value,[m])}},3,"ua_13"),t.value==="users"&&e("div",null,{class:"bg-white rounded-xl shadow-lg p-8 text-center"},[r(E,{class:"w-16 h-16 text-gray-400 mx-auto mb-4",[n]:{class:n}},3,"ua_14"),e("h3",null,{class:"text-xl font-semibold text-gray-900 mb-2"},"User Management",3,null),e("p",null,{class:"text-gray-600"},"User management component coming soon...",3,null)],1,"ua_15"),t.value==="settings"&&e("div",null,{class:"bg-white rounded-xl shadow-lg p-8 text-center"},[r(L,{class:"w-16 h-16 text-gray-400 mx-auto mb-4",[n]:{class:n}},3,"ua_16"),e("h3",null,{class:"text-xl font-semibold text-gray-900 mb-2"},"Settings",3,null),e("p",null,{class:"text-gray-600"},"Settings component coming soon...",3,null)],1,"ua_17")],1,null)],1,null),u.value&&e("div",null,{class:"fixed inset-0 bg-gray-600 bg-opacity-75 z-40 lg:hidden",onClick$:o(()=>a(()=>Promise.resolve().then(()=>ve),void 0),"s_vTuSMMLhx0Q",[u])},null,3,"ua_18")],1,"ua_19")},N=Object.freeze(Object.defineProperty({__proto__:null,s_BAhBeD2pqSE:J},Symbol.toStringTag,{value:"Module"})),X=()=>{const[l,t]=d();A(),t.value=!1,l.value=null,window.location.reload()},Y=Object.freeze(Object.defineProperty({__proto__:null,_hW:P,s_nTM0T0HzeDg:X},Symbol.toStringTag,{value:"Module"})),W=()=>{const[l,t]=d();l.value="settings",t("nav_settings")},Z=Object.freeze(Object.defineProperty({__proto__:null,s_PVEP0yczVUA:W},Symbol.toStringTag,{value:"Module"})),ee=async()=>{const[l,t,u,_]=d();if(q())try{const v=await p.getCurrentUser();t.value=v,u.value=!0,await _()}catch{A(),u.value=!1,t.value=null}else u.value=!1;l.value=!1},te=Object.freeze(Object.defineProperty({__proto__:null,_hW:P,s_p68o2nleN0k:ee},Symbol.toStringTag,{value:"Module"})),le=()=>{const[l]=d();return l.value=!l.value},ne=Object.freeze(Object.defineProperty({__proto__:null,s_GyO0ruln00k:le},Symbol.toStringTag,{value:"Module"})),se=l=>{const[t,u]=d();u.submit({event_type:l}),t.value&&p.recordEvent({event_type:l,event_data:{timestamp:new Date().toISOString()}}).catch(console.error)},ae=Object.freeze(Object.defineProperty({__proto__:null,_hW:P,s_BRt903p3tIw:se},Symbol.toStringTag,{value:"Module"})),oe=()=>{const[l,t]=d();l.value="content",t("nav_content")},re=Object.freeze(Object.defineProperty({__proto__:null,s_8h9SQKoF86U:oe},Symbol.toStringTag,{value:"Module"})),ue=()=>{const[l,t]=d();l.value="users",t("nav_users")},ce=Object.freeze(Object.defineProperty({__proto__:null,s_gCq79vfRc88:ue},Symbol.toStringTag,{value:"Module"})),ie=async()=>{const[l,t,u,_,b,v,x,m]=d();if(b.value&&u.value)try{v.value=!0,_.value=null;const[c,S,w,y,T,h]=await Promise.all([p.getAnalyticsMetrics(),p.getContent(),p.getUsers(),p.getCurrentTenant(),p.getTopContent(),p.getRecentActivity()]);l.value={totalEvents:c.total_events,uniqueUsers:c.unique_users,pageViews:c.page_views,contentPublished:c.content_published,growthRate:c.growth_rate,topContent:T,recentActivity:h},t.value=S,m.value=w,x.value=y}catch(c){_.value=c instanceof Error?c.message:"Failed to load data",console.error("Failed to load dashboard data:",c)}finally{v.value=!1}},_e=Object.freeze(Object.defineProperty({__proto__:null,_hW:P,s_nuBtQKCpceA:ie},Symbol.toStringTag,{value:"Module"})),de=()=>{const[l]=d();return l.value=!1},ve=Object.freeze(Object.defineProperty({__proto__:null,s_vTuSMMLhx0Q:de},Symbol.toStringTag,{value:"Module"})),ge=()=>{const[l,t]=d();l.value="dashboard",t("nav_dashboard")},be=Object.freeze(Object.defineProperty({__proto__:null,s_QLGwmXHJ20o:ge},Symbol.toStringTag,{value:"Module"}));export{P as _hW,fe as i,oe as s_8h9SQKoF86U,J as s_BAhBeD2pqSE,se as s_BRt903p3tIw,le as s_GyO0ruln00k,W as s_PVEP0yczVUA,ge as s_QLGwmXHJ20o,ue as s_gCq79vfRc88,X as s_nTM0T0HzeDg,ie as s_nuBtQKCpceA,ee as s_p68o2nleN0k,de as s_vTuSMMLhx0Q};
